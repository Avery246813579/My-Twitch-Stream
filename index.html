<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Twitch Stream</title>

    <style>
        * {
            padding: 0;
            margin: 0;
            font-family: Abeezee, sans-serif;
        }

        html, body {
            min-height: 100% !important;
            height: 100%;
            overflow-x: hidden;
        }

        #WRAPPER {
            width: 100%;
            height: 100%;
        }

        /*#FRAME {*/
        /*width: 100%;*/
        /*height: 100%;*/
        /*}*/
    </style>
</head>
<body>

<div id="WRAPPER">
    <div id="FRAME"></div>
</div>

<div id="CONTENT">
    STUFF SHOULD BE HERE
</div>

<!--<img src="http://ttv-api.s3.amazonaws.com/assets/connect_dark.png" class="twitch-connect" href="#"/>-->
<!--<a href="https://api.twitch.tv/kraken/oauth2/authorize?response_type=code&client_id=gxf6yv4dro02sb5m0tc9jmb3wak4vk&redirect_uri=https://avery246813579.github.io/My-Twitch-Stream/twitch.html&scope=user_read">Login</a>-->
<script src="https://code.jquery.com/jquery.min.js"></script>
<!--<script src="dist/MyTwitchStream.min.js"></script>-->

<script src="src/util/logger.js"></script>
<script src="src/streams.js"></script>
<script src="src/storage.js"></script>
<script src="src/mts.js"></script>

<script>
    var FRAME = document.getElementById('FRAME');

    addStream('LOLTYLER1', {
        NAME: "LOLTYLER1",
        PRIORITY: 100
    });

    addStream('SUMMIT1G', {
        NAME: "SUMMIT1G",
        PRIORITY: 90
    });

    updateMethod(function () {
        if (typeof ONLINE_STREAM != "undefined" && ONLINE_STREAM != LAST_ONLINE_STREAM) {
            FRAME.innerHTML = '<iframe id="FRAME" style="float: left" src="https://player.twitch.tv/?channel=' + ONLINE_STREAM['NAME'] + '" height="' + getHeight() + '" width="' + (getWidth() - 350) + '" frameborder="0" scrolling="false" allowfullscreen="true" autoplay="true"> </iframe>';
            FRAME.innerHTML += '<iframe style="float: left; top:0; position: absolute;" frameborder="0" scrolling="no" id="chat_embed" src="https://www.twitch.tv/' + ONLINE_STREAM['NAME'] + '/chat" height="' + getHeight() + '" width="335"> </iframe>';
        }else if(typeof LAST_ONLINE_STREAM != "undefined" && typeof ONLINE_STREAM == "undefined"){
            FRAME.innerHTML = "No streams online! Scroll down to add some!";
        }
    });

    window.onresize = function (event) {
        if (typeof FRAME != "undefined") {
            console.dir(FRAME);
            FRAME.children[0].width = getWidth() - 350;
            FRAME.children[0].height = getHeight();
            FRAME.children[1].height = getHeight();
            FRAME.children[1].style.left = getWidth() - 350;
        }
    };

    function getWidth() {
        if (self.innerWidth) {
            return self.innerWidth;
        }

        if (document.documentElement && document.documentElement.clientWidth) {
            return document.documentElement.clientWidth;
        }

        if (document.body) {
            return document.body.clientWidth;
        }
    }

    function getHeight() {
        if (self.innerHeight) {
            return self.innerHeight;
        }

        if (document.documentElement && document.documentElement.clientHeight) {
            return document.documentElement.clientHeight;
        }

        if (document.body) {
            return document.body.clientHeight;
        }
    }
</script>

</body>
</html>